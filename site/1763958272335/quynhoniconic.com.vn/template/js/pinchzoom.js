function pinchZoom(t,e,n){t=void 0!==t&&Object.keys(t).length?t:{};var i=(e=void 0!==e&&Object.keys(e).length?e:{}).scaleDefault||3,r=e.scaleDifference||.5,o=e.scaleMax||10,u=e.scaleMin||1,s=e.scrollDisable,a=e.transitionDuration||200,c=e.doubleclickDelay||300,l=!function(){if(["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].indexOf(navigator.platform)>-1||navigator.userAgent.includes("Mac")&&"ontouchend"in document){var t=navigator.userAgent.toLowerCase();if(t.indexOf("safari")>-1&&-1===t.indexOf("chrome"))return!0}return!1}();if(0==s){var d=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){d=!0}}))}catch(t){}var h=!!d&&{passive:!1};document.createElement("div")}for(var f,b,g,v,m,A,p,w,x,E,L,M,F,y,Y,X,D,H,O,W,P,S,k,z,C,T,N,R,B,j,q,Z,G=t.active||"zoom-active",I="data-scale",J="data-translate-x",K="data-translate-y",Q=t.transition||"zoom-transition",U=t.visible||"zoom-visible",V=t.pinchzoom||"pinch-zoom",$=document.getElementsByClassName(V),_=document.documentElement,tt=!1,et=[null],nt=0,it=!1,rt=0,ot=[null],ut=0;ut<$.length;ut++)f=$[ut],(b=f.children[0]).setAttribute(I,1),b.setAttribute(J,0),b.setAttribute(K,0);if(window.addEventListener("load",(function(){for(var t=0;t<$.length;t++)f=$[t],st(b=f.children[0],U);window.addEventListener("resize",(function(){for(var t=0;t<$.length;t++)f=$[t],b=f.children[0],!1!==ct(f,G)&&(g=f.clientHeight,v=f.clientWidth,w=b.clientHeight,x=b.clientWidth,E=parseFloat(b.getAttribute(J)),L=parseFloat(b.getAttribute(K)),D=vt(x,v,q=i),H=vt(w,g,q),R=x*q>v?dt(E,-1*D,D):0,B=w*q>g?dt(L,-1*H,H):0,1===q&&(At(f),At(_)),b.setAttribute(I,q),b.setAttribute(J,R),b.setAttribute(K,B),ht(b,R+"px",B+"px",q))}))})),lt($,"mousedown",(function(t){if(t.preventDefault(),!0===it||1!==t.which)return!1;if(f=this,b=this.children[0],F=t.clientX,Y=t.clientY,null===et[0])et[0]=t.target,et[1]=F,et[2]=Y,setTimeout((function(){et=[null]}),c);else if(et[0]===t.target&&nt<=5&&!0===at(F,et[1]-10,et[1]+10)&&!0===at(Y,et[2]-10,et[2]+10))return st(b,Q),!0===ct(f,G)?(b.setAttribute(I,1),b.setAttribute(J,0),b.setAttribute(K,0),At(f),At(_),ht(b,0,0,1)):(S=t.clientX,z=t.clientY,N=(i-1)*(T=1),D=vt(x,v,q=i),H=vt(w,g,q),q<=1?(R=0,B=0):(R=x*q<=v?0:dt(E-(S-m-v/2-E)/(q-N)*N,-1*D,D),B=w*q<=g?0:dt(L-(z-A-g/2-L)/(q-N)*N,-1*H,H)),mt(f),mt(_),b.setAttribute(I,q),b.setAttribute(J,R),b.setAttribute(K,B),ht(b,R+"px",B+"px",i)),setTimeout((function(){gt(b,Q)}),a),et=[null],!1;O=f.getBoundingClientRect(),m=O.left,A=O.top,g=f.clientHeight,v=f.clientWidth,w=b.clientHeight,x=b.clientWidth,E=parseFloat(b.getAttribute(J)),L=parseFloat(b.getAttribute(K)),p=dt(parseFloat(b.getAttribute(I)),u,o),nt=0,tt=!0})),document.addEventListener("mousemove",(function(t){if(!0===it||!1===tt)return!1;S=t.clientX,z=t.clientY,D=vt(x,v,q=p),H=vt(w,g,q),R=x*q<=v?0:dt(S-(F-E),-1*D,D),B=w*q<=g?0:dt(z-(Y-L),-1*H,H),nt++,Math.abs(R)===Math.abs(D)&&(E=R,F=S);Math.abs(B)===Math.abs(H)&&(L=B,Y=z);b.setAttribute(I,q),b.setAttribute(J,R),b.setAttribute(K,B),ht(b,R+"px",B+"px",q)})),document.addEventListener("mouseup",(function(){if(!0===it||!1===tt)return!1;tt=!1})),document.addEventListener("touchstart",(function(){it=!0})),lt($,"touchstart",(function(t){if(ft(),t.touches.length>2)return!1;if(f=this,b=this.children[0],O=f.getBoundingClientRect(),m=O.left,A=O.top,g=f.clientHeight,v=f.clientWidth,w=b.clientHeight,x=b.clientWidth,F=t.touches[0].clientX,Y=t.touches[0].clientY,p=dt(parseFloat(b.getAttribute(I)),u,o),1===(Z=t.touches.length)){if(null===ot[0])ot[0]=t.target,ot[1]=F,ot[2]=Y,setTimeout((function(){ot=[null]}),c);else if(ot[0]===t.target&&rt<=1&&!0===at(F,ot[1]-10,ot[1]+10)&&!0===at(Y,ot[2]-10,ot[2]+10))return st(b,Q),!0===ct(f,G)?(b.setAttribute(I,1),b.setAttribute(J,0),b.setAttribute(K,0),At(f),At(_),ht(b,0,0,1)):(S=t.touches[0].clientX,z=t.touches[0].clientY,N=(i-1)*(T=1),D=vt(x,v,q=i),H=vt(w,g,q),q<=1?(R=0,B=0):(R=x*q<=v?0:dt(E-(S-m-v/2-E)/(q-N)*N,-1*D,D),B=w*q<=g?0:dt(L-(z-A-g/2-L)/(q-N)*N,-1*H,H)),mt(f),mt(_),b.setAttribute(I,q),b.setAttribute(J,R),b.setAttribute(K,B),ht(b,R+"px",B+"px",i)),setTimeout((function(){gt(b,Q)}),a),ot=[null],!1;E=parseFloat(b.getAttribute(J)),L=parseFloat(b.getAttribute(K))}else 2===Z&&(E=parseFloat(b.getAttribute(J)),L=parseFloat(b.getAttribute(K)),y=t.touches[1].clientX,X=t.touches[1].clientY,W=(F+y)/2,P=(Y+X)/2,M=Math.sqrt((F-y)*(F-y)+(Y-X)*(Y-X)));rt=0,tt=!0})),document.addEventListener("touchmove",(function(t){if(ft(),!1===tt)return!1;S=t.touches[0].clientX,z=t.touches[0].clientY,Z=t.touches.length,rt++,Z>1?(k=t.touches[1].clientX,C=t.touches[1].clientY,j=Math.sqrt((S-k)*(S-k)+(z-C)*(z-C)),null===M&&(M=j),Math.abs(M-j)>=1&&(q=dt(j/M*p,u,o),D=vt(x,v,q),H=vt(w,g,q),N=q-p,R=x*q<=v?0:dt(E-(W-m-v/2-E)/(q-N)*N,-1*D,D),B=w*q<=g?0:dt(L-(P-A-g/2-L)/(q-N)*N,-1*H,H),q>1?(mt(f),mt(_)):(At(f),At(_)),ht(b,R+"px",B+"px",q),M=j,p=q,E=R,L=B)):(D=vt(x,v,q=p),H=vt(w,g,q),R=x*q<=v?0:dt(S-(F-E),-1*D,D),B=w*q<=g?0:dt(z-(Y-L),-1*H,H),Math.abs(R)===Math.abs(D)&&(E=R,F=S),Math.abs(B)===Math.abs(H)&&(L=B,Y=z),b.setAttribute(I,p),b.setAttribute(J,R),b.setAttribute(K,B),ht(b,R+"px",B+"px",q))}),{passive:!1}),document.addEventListener("touchend",(function(t){if(Z=t.touches.length,!1===tt)return!1;0===Z?(b.setAttribute(I,p),b.setAttribute(J,R),b.setAttribute(K,B),M=null,tt=!1):1===Z?(F=t.touches[0].clientX,Y=t.touches[0].clientY):Z>1&&(M=null)})),1==s)return!1;lt($,"mouseenter",(function(){window.addEventListener("DOMMouseScroll",ft,!1),window.addEventListener("wheel",ft,h),window.addEventListener("touchmove",ft,h),window.addEventListener("keydown",bt,!1)})),lt($,"mouseleave",(function(){window.removeEventListener("DOMMouseScroll",ft,!1),window.removeEventListener("wheel",ft,h),window.removeEventListener("touchmove",ft,h),window.removeEventListener("keydown",bt,!1)})),lt($,"wheel",(function(t){if(f=this,st(b=this.children[0],Q),setTimeout((function(){gt(b,Q)}),a),O=f.getBoundingClientRect(),g=f.clientHeight,v=f.clientWidth,w=b.clientHeight,x=b.clientWidth,m=O.left,A=O.top,p=dt(parseFloat(b.getAttribute(I),u,o)),E=parseFloat(b.getAttribute(J)),L=parseFloat(b.getAttribute(K)),S=t.clientX,z=t.clientY,T=t.deltaY<0?1:-1,(q=p+(N=r*T))<u||q>o)return!1;D=vt(x,v,q),H=vt(w,g,q),q<=1?(R=0,B=0):(R=x*q<=v?0:dt(E-(S-m-v/2-E)/(q-N)*N,-1*D,D),B=w*q<=g?0:dt(L-(z-A-g/2-L)/(q-N)*N,-1*H,H));q>1?(mt(f),mt(_)):(At(f),At(_));b.setAttribute(I,q),b.setAttribute(J,R),b.setAttribute(K,B),ht(b,R+"px",B+"px",q)}));function st(t,e){!1===ct(t,e)&&(t.className+=" "+e)}function at(t,e,n){return t>=e&&t<=n}function ct(t,e){var n=new RegExp("(?:^|\\s)"+e+"(?!\\S)","g");return!!t.className.match(n)}function lt(t,e,n,i){i=i||!1;for(var r=0;r<t.length;r++)t[r].addEventListener(e,n,i)}function dt(t,e,n){return t<e?t=e:t>n&&(t=n),t}function ht(t,e,n,i){t.style.cssText=l?"transform : translate3d("+e+", "+n+", 0) scale3d("+i+", "+i+", 1);":"transform : translate("+e+", "+n+") scale("+i+", "+i+")"}function ft(t){t=t||window.event}function bt(t){if({37:1,38:1,39:1,40:1}[t.keyCode])return ft(t),!1}function gt(t,e){var n=new RegExp("(?:^|\\s)"+e+"(?!\\S)","g");t.className=t.className.replace(n,"")}function vt(t,e,n){return(t*n-e)/2}function mt(t){st(t,G),st(_,G),n&&n(t,!0)}function At(t){gt(t,G),gt(_,G),n&&n(t,!1)}}